{
    "label": {
        "en": "Permitting", 
        "es": "Permiso"
    }, 
    "id": "adept_window",
    "modelName": {
        "en": "permitting", 
        "es": null
    }, 
    "targetScript": "adept", 
    "height": 700, 
    "width": 700, 
    "condenseElements": true, 
    "elements": [
        {
            "id": "workspace", 
            "args_id": "workspace_dir",
            "type": "folder", 
            "defaultValue": "./adept_workspace", 
            "required": true, 
            "label": {
                "en": "Workspace", 
                "es": "Espacio de trabajo"
            }, 
            "helpText": {
                "en": "Select a folder to be used as your workspace.  If the folder you select does not exist, it will be created for you.<br/><br/>This folder will contain the rasters produced by this model.  <b>If datasets already exist in this folder, they will be overwritten</b>.", 
                "es": null
            }, 
            "validateAs": {
                "type": "folder", 
                "permissions": "rwx"
            }
        }, 
        {
            "id": "project_footprint", 
            "args_id": "project_footprint_uri", 
            "type": "file", 
            "defaultValue": "./data/colombia_sample_data/Cedrela Norte/proyecto/Proyecto_split.shp", 
            "label": {
                "en": "Project Footprint", 
                "es": "Huella del Proyecto"
            },
            "validateAs": {
                "type": "OGR"
            },
            "helpText": {
                "en": "The project footprint must be a polygon shapefile of the area of development.",
                "es": null
            }
        }, 
        {
            "args_id": "impact_type", 
            "id": "impact_type",
            "returns": {"type": "strings"}, 
            "defaultValue": 0, 
            "label": {
                "en": "Impact type", 
                "es": "Tipo de impacto"
            }, 
            "type": "dropdown", 
            "options": [
                "Road/Paved",
                "Mine/Bare"
            ],
            "helpText": {
                "en": "Select the impact type of the proposed development.",
                "es": null
            }
        }, 
        {
            "id": "area_of_influence", 
            "args_id": "area_of_influence_uri", 
            "type": "file", 
            "defaultValue": "", 
            "validateAs": {
                "type": "file"
            }, 
            "required": true,
            "label": {
                "en": "Area of Influence", 
                "es": "Área de influencia"
            },
            "helpText": {
                "en": "The area of influence is a polygon shapefile. If no input is provided, the tool defaults to using the project footprint's hydrological subzone. The tool tracks which potential offset parcels are located within the area of influence so that they can be prioritized for selection in the offset portfolio.",
                "es": null
            }
        }, 
        {
            "id": "ecosystems_map", 
            "args_id": "ecosystems_map_uri",
            "hideable": true, 
            "type": "file", 
            "label": {
                "en": "Use custom natural ecosystems map", 
                "es": "Utilice ecosistemas personalizados mapa"
            }, 
            "validateAs": {
                "type": "OGR",
                "fieldsExist": ["Ecos_dis", "FACTOR_DE"],
                "layers": [
                    {
                        "type": "polygons", 
                        "name": {
                            "inheritFrom": "file"
                        }
                    }
                ],
                "restrictions": [
                    {
                        "field": "Ecos_dis",
                        "validateAs": {
                            "type": "string"
                        }
                    },
                    {
                        "field": "FACTOR_DE",
                        "validateAs": {
                            "type": "number"
                        }
                    }
                ]
            },
            "helpText": {
                "en": "A polygon shapefile of natural ecosystems. The amount and type of biodiversity offset needed is calculated based on the overlap between natural ecosystems and the project footprint, and potential offset patches are also selected from natural ecosystems provided here. <br/><br/> <b>Format:</b> Each row should be a polygon or multi-polygon of a particular ecosystem type. Each column contains information about the ecosystem, and two columns must be named as follows: <ol><li> <em>ecos_dis</em>: string value with the name of the ecosystem type </li><li> <em>factor_de</em>: the numeric compensation factor/mitigation ratio for that ecosystem</li></ol>",
                "es": null
            }
        }, 
        {
            "id": "servicesheds_map", 
            "args_id": "servicesheds_uri",
            "hideable": true, 
            "type": "file", 
            "label": {
                "en": "Use custom servicesheds", 
                "es": null
            }, 
            "validateAs": {
                "type": "OGR",
                "fieldsExist": ["Pop_center", "pop_cent_5"],
                "layers": [
                    {
                        "type": "polygons", 
                        "name": {
                            "inheritFrom": "file"
                        }
                    }
                ],
                "restrictions": [
                    {
                        "field": "Pop_center",
                        "validateAs": {
                            "type": "string"
                        }
                    },
                    {
                        "field": "pop_cent_5",
                        "validateAs": {
                            "type": "number"
                        }
                    }
                ]
            },
            "helpText": {
                "en": "A polygon shapefile of the servicesheds for hydrological services, which are the watersheds upstream of drinking water intake points. Impacts for hydrological services will be summed by serviceshed. <br/><br/><b>Format:</b><br/> Each row should be a polygon or multi-polygon of the serviceshed for a particular population center. Each column contains information about the serviceshed, and two columns must be named as follows: <ol><li><em>Pop_center:</em> string value with the name of the population center or beneficiary group linked to the serviceshed</li><li><em>pop_cent_5:</em> the number of people within the population center or beneficiary group</li></ol>",
                "es": null
            }
        }, 
        {
            "id": "search_areas_map", 
            "args_id": "search_areas_uri",
            "hideable": true, 
            "type": "file", 
            "label": {
                "en": "Use custom search areas", 
                "es": null
            }, 
            "validateAs": {
                "type": "OGR",
                "fieldsExist": ["NOMZH"],
                "layers": [
                    {
                        "type": "polygons", 
                        "name": {
                            "inheritFrom": "file"
                        }
                    }
                ],
                "restrictions": [
                    {
                        "field": "NOMZH",
                        "validateAs": {
                            "type": "string"
                        }
                    }
                ]
            },
            "helpText": {
                "en": "A polygon shapefile. Within Colombia, this represents hydrological zones and subzones. Potential offset patches are restricted to the same hydrozone as the project footprint, and the results report indicates which offset patches are located within the same hydrosubzone as the project footprint so that they can be prioritized. Outside of Colombia, this input can be used to restrict the area within which offsets can be located and to prioritize potential offset patches.<br/><br/><b>Format:</b><br/> Each row should be a hydrosubzone. Each column contains information about the hydro subzone and hydrozone, and two columns must be named as follows: <ol><li><em>hydrosubzone:</em> string value with a unique name of the hydrosubzone</li><li><em>hydrozone:</em> string value with the name of the hydrozone to which the hydrozone belongs</li></ol>",
                "es": null
            }
        }, 
        {
            "id": "municipalities_map", 
            "args_id": "municipalities_uri",
            "type": "file", 
            "hideable": true, 
            "label": {
                "en": "Use custom municipalities", 
                "es": null
            }, 
            "validateAs": {
                "type": "OGR"
            },
            "helpText": {
                "en": "A polygon shapefile. Within Colombia, each polygon should represent municipality borders. The results report indicates which offset patches are located within the same municipality as the project footprint so they can be prioritized. Outside of Colombia, this input can be used to indicate any areas within which offsets should be prioritized.",
                "es": null
            }
        }, 
        {
            "type": "file", 
            "id": "threat_map", 
            "args_id": "threat_map", 
            "label": {
                "en": "Threat map (optional)", 
                "es": "Mapa de Amenazas (opcional)"
            },
            "validateAs": {
                "type": "GDAL"
            },
            "helpText": {
                "en": "A raster file. In Colombia, values should indicate the level of threat from anthropogenic influences at a particular point. Threat is considered an indicator of patch quality for biodiversity. If included, offset patches will be restricted to those with average threat values less than or equal to that of ecosystem patches intersecting the impact site (project footprint). This ensures that offset patches are of equal or greater quality to the impacted patches. Outside of Colombia, any raster indicating quality can be substituted, as long as lower values indicate greater quality",
                "es": null
            }
        }, 
        {
            "type": "file", 
            "id": "species_richness_map", 
            "args_id": "species_richness_map", 
            "label": {
                "en": "Species richness map (optional)", 
                "es": "Especies mapa riqueza (opcional)"
            },
            "validateAs": {
                "type": "GDAL"
            },
            "helpText": {
                "en": "A raster file. In Colombia, values should indicate the level of species richness at a particular site. Species richness is considered an indicator of patch quality for biodiversity. If included, offset patches will be restricted to those with average species richness values greater than or equal to that of ecosystem patches intersecting the impact site (project footprint). This ensures that offset patches are contain an equal or greater amount of species richness relative to the impacted patches. Outside of Colombia, any raster indicating quality can be substituted, as long as greater values indicate higher quality.",
                "es": null
            }
        }, 
        {
            "type": "file", 
            "id": "avoidance_areas", 
            "args_id": "avoidance_areas", 
            "label": {
                "en": "Avoidance areas (optional)", 
                "es": "Áreas de evitación (opcional)"
            },
            "validateAs": {
                "layers": [
                    {
                        "type": "polygons", 
                        "name": {
                            "inheritFrom": "file"
                        }
                    }
                ], 
                "type": "OGR"
            },
            "helpText": {
                "en": "A polygon shapefile indicating designated areas where development impacts should be avoided. In Colombia, these are also termed “areas of exclusion.” This might include protected areas, RAMSAR wetland sites or other areas where development impacts are discouraged or prevented by law. If the project footprint intersects with an avoidance area, the tool will issue a warning. Such projects are unlikely to be allowed or may face additional mitigation requirements beyond those calculated by the tool due to their special conditions.",
                "es": null
            }
        }, 
        {
            "type": "file", 
            "id": "conservation_portfolio", 
            "args_id": "conservation_portfolio", 
            "label": {
                "en": "Conservation portfolio (optional)", 
                "es": "Cartera de la Naturaleza (opcional)"
            },
            "validateas": {
                "layers": [
                    {
                        "type": "polygons", 
                        "name": {
                            "inheritfrom": "file"
                        }
                    }
                ], 
                "type": "OGR"
            },
            "helpText": {
                "en": "A polygon shapefile indicating priority areas for locating offsets. This map could be based on landscape-level conservation planning exercises, policy or other source of prioritization. If included, the results will indicate which potential offset patches fall within the conservation portfolio so that they can be preferentially selected for the offset portfolio.",
                "es": null
            }
        }, 
        {
            "type": "file", 
            "id": "previously_granted_impacts", 
            "args_id": "previously_granted_impacts", 
            "label": {
                "en": "Previously granted impacts (optional)", 
                "es": "Impactos previamente otorgados (opcional)"
            },
            "validateas": {
                "type": "OGR"
            },
            "helpText": {
                "en": "A polygon shapefile of project footprints of impact sites that have been granted but are not yet represented as developed land in the land use/land cover map. If included, portions of natural vegetation patches that intersect previously granted impacts will be removed from potential offset patches so that they cannot be counted towards offsets.",
                "es": null
            }
        }, 
        {
            "type": "file", 
            "id": "previously_selected_offsets", 
            "args_id": "previously_selected_offsets", 
            "label": {
                "en": "Previously selected offsets (optional)", 
                "es": "Compensaciones Previamente seleccionados (opcional)"
            },
            "validateas": {
                "type": "OGR"
            },
            "helpText": {
                "en": "A polygon shapefile of areas that cannot be selected as offsets, either because they have already designated as offsets for other projects, <b>they are not at risk of degradation and so protection would not provide additional benefits beyond baseline conditions (e.g., protected areas), or because their use as offsets is not feasible for political, social, economic or other reasons.</b> If included, vegetation patches within this shapefile will be excluded from potential offset sites in the results.",
                "es": null
            }
        }, 
        {
            "id": "do_carbon",
            "args_id": "do_carbon",
            "type": "checkbox",
            "defaultValue": true,
            "label": {
                "en": "Calculate impacts/offsets to carbon",
                "es": null
            },
            "helpText": {
                "en": "Select whether the tool should include Carbon storage in impact and offset analysis.",
                "es": null
            }
        },
        {
            "id": "do_sediment",
            "args_id": "do_sediment",
            "type": "checkbox",
            "defaultValue": true,
            "label": {
                "en": "Calculate impacts/offsets to sediment",
                "es": null
            },
            "helpText": {
                "en": "Select whether the tool should include Sediment retention in impact and offset analysis.",
                "es": null
            }
        },
        {
            "id": "do_nutrient",
            "args_id": "do_nutrient",
            "type": "checkbox",
            "defaultValue": true,
            "label": {
                "en": "Calculate impacts/offsets to nitrogen",
                "es": null
            },
            "helpText": {
                "en": "Select whether the tool should include Nitrogen retention in impact and offset analysis.",
                "es": null
            }
        },
        {
            "id": "carbon_static_maps", 
            "args_id": "carbon_static_maps",
            "type": "folder", 
            "defaultValue": "", 
            "required": false,
            "hideable": true,
            "label": {
                "en": "Use Custom Carbon Static Maps", 
                "es": null
            }, 
            "helpText": {
                "en": "A folder with carbon static maps. These maps can be created using the tool’s carbon static map generator.<br/><br/><b>Contents:</b><br/>This folder must contain the following rasters:<ol><li>carbon_bare_static_map.tif</li><li>carbon_paved_static_map.tif</li><li>carbon_protection_static_map.tif</li></ol>", 
                "es": null
            }, 
            "validateAs": {
                "type": "folder", 
                "contains": [
                    "carbon_bare_static_map.tif",
                    "carbon_paved_static_map.tif",
                    "carbon_protection_static_map.tif"
                ]
            }
        }, 
        {
            "id": "nutrient_static_maps", 
            "args_id": "nutrient_static_maps",
            "type": "folder", 
            "defaultValue": "", 
            "required": false,
            "hideable": true,
            "label": {
                "en": "Use Custom Nutrient Static Maps", 
                "es": null
            }, 
            "helpText": {
                "en": "A folder with nitrogen static maps. These maps can be created using the tool’s nutrient static map generator.<br/><br/><b>Contents:</b><br/>This folder must contain the following rasters:<ol><li>nutrient_bare_static_map.tif</li><li>nutrient_paved_static_map.tif</li><li>nutrient_protection_static_map.tif</li><li>nutrient_bare_pts.tif</li><li>nutrient_paved_pts.tif</li><li>nutrient_protection_pts.tif</li></ol>", 
                "es": null
            }, 
            "validateAs": {
                "type": "folder", 
                "contains": [
                    "nutrient_bare_static_map.tif",
                    "nutrient_paved_static_map.tif",
                    "nutrient_protection_static_map.tif",
                    "nutrient_bare_pts.tif",
                    "nutrient_paved_pts.tif",
                    "nutrient_protection_pts.tif"
                ]
            }
        }, 
        {
            "id": "sediment_static_maps", 
            "args_id": "sediment_static_maps",
            "type": "folder", 
            "defaultValue": "", 
            "required": false,
            "hideable": true,
            "label": {
                "en": "Use Custom Sediment Static Maps", 
                "es": null
            }, 
            "helpText": {
                "en": "A folder with sediment static maps. These maps can be created using the tool’s sediment static map generator.<br/><br/><b>Contents:</b><br/>This folder must contain the following rasters:<ol><li>sediment_bare_static_map.tif</li><li>sediment_paved_static_map.tif</li><li>sediment_protection_static_map.tif</li><li>sediment_bare_pts.tif</li><li>sediment_paved_pts.tif</li><li>sediment_protection_pts.tif</li></ol>", 
                "es": null
            }, 
            "validateAs": {
                "type": "folder", 
                "contains": [
                    "sediment_bare_static_map.tif",
                    "sediment_paved_static_map.tif",
                    "sediment_protection_static_map.tif",
                    "sediment_bare_pts.tif",
                    "sediment_paved_pts.tif",
                    "sediment_protection_pts.tif"
                ]
            } 
        }, 
        {
            "id": "custom_static_maps", 
            "args_id": "custom_static_maps",
            "type": "folder", 
            "defaultValue": "", 
            "required": false,
            "hideable": true,
            "label": {
                "en": "Use Custom Ecosystem Service Static Maps", 
                "es": null
            }, 
            "helpText": {
                "en": "A folder with custom static maps. These maps can be created using the tool’s custom static map generator.<br/><br/><b>Contents:</b><br/>This folder must contain the following rasters:<ol><li>custom_bare_static_map.tif</li><li>custom_paved_static_map.tif</li><li>custom_protection_static_map.tif</li></ol><br/><br/>If these custom static rasters account for a hydrological service, the following rasters must also be in this folder:<ol><li>custom_bare_pts.tif</li><li>custom_paved_pts.tif</li><li>custom_protection_pts.tif</li></ol>", 
                "es": null
            }, 
            "validateAs": {
                "type": "folder", 
                "contains": [
                    "custom_bare_static_map.tif",
                    "custom_paved_static_map.tif",
                    "custom_protection_static_map.tif"
                ]
            }
        },
        {
            "id": "custom_es_input_type",
            "args_id": "custom_servicesheds",
            "type": "dropdown",
            "options": [
                "global",
                "hydrological"
            ],
            "defaultValue": 0,
            "returns": {"type": "strings"},
            "label": {
                "en": "Type of custom service",
                "es": null
            },
            "helpText": {
                "en": "Indicates whether the custom ecosystem service input is a hydrological or global service.",
                "es": null
            }
        },
        {
            "type": "hidden",
            "defaultValue": ".",
            "args_id": "data_dir"
        }
    ] 
}
